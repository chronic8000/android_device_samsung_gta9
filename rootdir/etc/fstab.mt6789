# -----------------------------------------------------------------------------
# Android fstab for Mediatek Samsung gta9
# -----------------------------------------------------------------------------
# <src>                             <mnt_point>        <type>  <mnt_flags>                               <fs_mgr_flags>
# -----------------------------------------------------------------------------

# System / Vendor / Product / System_ext (read-only, logical partitions)
system                            /system            erofs    ro,wait,avb=vbmeta_system,logical,first_stage_mount,avb_keys=/avb/q-developer-gsi.avbpubkey:/avb/r-developer-gsi.avbpubkey:/avb/s-developer-gsi.avbpubkey:/avb/t-developer-gsi.avbpubkey:/avb/u-developer-gsi.avbpubkey
system                            /system            ext4     ro,wait,avb=vbmeta_system,logical,first_stage_mount,avb_keys=/avb/q-developer-gsi.avbpubkey:/avb/r-developer-gsi.avbpubkey:/avb/s-developer-gsi.avbpubkey:/avb/t-developer-gsi.avbpubkey:/avb/u-developer-gsi.avbpubkey
vendor                            /vendor            erofs    ro,wait,avb,logical,first_stage_mount
vendor                            /vendor            ext4     ro,wait,avb,logical,first_stage_mount
product                           /product           erofs    ro,wait,avb,logical,first_stage_mount
product                           /product           ext4     ro,wait,avb,logical,first_stage_mount
system_ext                        /system_ext        erofs    ro,wait,avb=vbmeta_system,logical,first_stage_mount,avb_keys=/avb/q-developer-gsi.avbpubkey:/avb/r-developer-gsi.avbpubkey:/avb/s-developer-gsi.avbpubkey:/avb/t-developer-gsi.avbpubkey:/avb/u-developer-gsi.avbpubkey
system_ext                        /system_ext        ext4     ro,wait,avb=vbmeta_system,logical,first_stage_mount,avb_keys=/avb/q-developer-gsi.avbpubkey:/avb/r-developer-gsi.avbpubkey:/avb/s-developer-gsi.avbpubkey:/avb/t-developer-gsi.avbpubkey:/avb/u-developer-gsi.avbpubkey

# Boot and AVB metadata
/dev/block/by-name/boot          /boot              emmc     defaults,first_stage_mount,nofail
/dev/block/by-name/vbmeta        /vbmeta            emmc     defaults
/dev/block/by-name/vbmeta_vendor /vbmeta_vendor     emmc     defaults,first_stage_mount,nofail
/dev/block/by-name/vbmeta_system /vbmeta_system     emmc     defaults,first_stage_mount,nofail,avb=vbmeta
/dev/block/by-name/vendor_boot   /vendor_boot       emmc     defaults,first_stage_mount,nofail

# Userdata and metadata
/dev/block/by-name/metadata      /metadata          ext4     noatime,nosuid,nodev,noauto_da_alloc,discard,journal_checksum,data=ordered,errors=panic,sync    wait,check,formattable,first_stage_mount
/dev/block/by-name/userdata      /data              f2fs     noatime,nosuid,nodev,discard,usrquota,grpquota,fsync_mode=nobarrier,reserve_root=32768,resgid=5678,inlinecrypt    wait,check,quota,latemount,reservedsize=128M,checkpoint=fs,fileencryption=aes-256-xts:aes-256-cts:v2+inlinecrypt_optimized,keydirectory=/metadata/vold/metadata_encryption,fsverity,fscompress
/dev/block/by-name/cache         /cache             ext4     noatime,nosuid,nodev,noauto_da_alloc,discard,journal_checksum,data=ordered,errors=panic    wait,check,formattable

# Persistent Partitions
/dev/block/by-name/protect1      /mnt/vendor/protect_f   ext4  noatime,nosuid,nodev,noauto_da_alloc,discard,journal_checksum,data=ordered,errors=panic    wait,check,formattable
/dev/block/by-name/protect2      /mnt/vendor/protect_s   ext4  noatime,nosuid,nodev,noauto_da_alloc,discard,journal_checksum,data=ordered,errors=panic    wait,check,formattable
/dev/block/by-name/nvdata        /mnt/vendor/nvdata     ext4  noatime,nosuid,nodev,noauto_da_alloc,discard,journal_checksum,data=ordered,errors=panic    wait,check,formattable
/dev/block/by-name/nvcfg         /mnt/vendor/nvcfg      ext4  noatime,nosuid,nodev,noauto_da_alloc,discard,journal_checksum,data=ordered,errors=panic    wait,check,formattable
/dev/block/by-name/persist       /mnt/vendor/persist    ext4  noatime,nosuid,nodev,noauto_da_alloc,discard,journal_checksum,data=ordered,errors=panic    wait,check,formattable
/dev/block/by-name/efs           /mnt/vendor/efs        ext4  noatime,nosuid,nodev,noauto_da_alloc,discard,journal_checksum,data=ordered,errors=panic    wait,check,formattable

# Misc partitions
/dev/block/by-name/misc          /misc               emmc     defaults,first_stage_mount

# External storage (SD, USB OTG)
/devices/platform/soc/11240000.mmc* auto   auto   defaults,voldmanaged=sdcard:auto
/devices/platform/soc/mt_usb* auto   vfat   defaults,voldmanaged=usb:auto
